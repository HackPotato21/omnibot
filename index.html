<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OmniBot - Your AI Companion</title>
  <script type="importmap">
  {
    "imports": {
      "react": "https://aistudiocdn.com/react@^19.2.0",
      "react-dom/client": "https://aistudiocdn.com/react-dom@^19.2.0/client",
      "@google/genai": "https://aistudiocdn.com/@google/genai@^1.26.0"
    }
  }
  </script>
  <!-- Add Babel to transpile JSX/TypeScript in the browser -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* Minimal Tailwind-like reset and utilities */
    *, ::before, ::after { box-sizing: border-box; border-width: 0; border-style: solid; border-color: #e5e7eb; }
    html { line-height: 1.5; -webkit-text-size-adjust: 100%; -moz-tab-size: 4; tab-size: 4; font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; }
    body { margin: 0; line-height: inherit; }
    h1, p { margin: 0; }
    button { background-color: transparent; background-image: none; padding: 0; }
    textarea { resize: vertical; }
    .h-screen { height: 100vh; }
    .flex { display: flex; }
    .flex-col { flex-direction: column; }
    .flex-1 { flex: 1 1 0%; }
    .items-start { align-items: flex-start; }
    .items-end { align-items: flex-end; }
    .items-center { align-items: center; }
    .justify-end { justify-content: flex-end; }
    .justify-center { justify-content: center; }
    .gap-4 { gap: 1rem; }
    .p-4 { padding: 1rem; }
    .p-2 { padding: 0.5rem; }
    .p-1 { padding: 0.25rem; }
    .pt-2 { padding-top: 0.5rem; }
    .pl-5 { padding-left: 1.25rem; }
    .ml-2 { margin-left: 0.5rem; }
    .mr-1 { margin-right: 0.25rem; }
    .my-4 { margin-top: 1rem; margin-bottom: 1rem; }
    .mt-8 { margin-top: 2rem; }
    .mt-4 { margin-top: 1rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-1 { margin-bottom: 0.25rem; }
    .mx-auto { margin-left: auto; margin-right: auto; }
    .max-w-4xl { max-width: 80rem; }
    .max-w-2xl { max-width: 42rem; }
    .max-h-40 { max-height: 10rem; }
    .w-4 { width: 1rem; }
    .h-4 { height: 1rem; }
    .w-5 { width: 1.25rem; }
    .h-5 { height: 1.25rem; }
    .w-8 { width: 2rem; }
    .h-8 { height: 2rem; }
    .flex-shrink-0 { flex-shrink: 0; }
    .overflow-y-auto { overflow-y: auto; }
    .bg-gray-900 { background-color: rgb(17 24 39); }
    .bg-gray-800 { background-color: rgb(31 41 55); }
    .bg-gray-700 { background-color: rgb(55 65 81); }
    .bg-gray-600 { background-color: rgb(75 85 99); }
    .bg-blue-600 { background-color: rgb(37 99 235); }
    .bg-blue-500 { background-color: rgb(59 130 246); }
    .hover\:bg-blue-600:hover { background-color: rgb(37 99 235); }
    .bg-transparent { background-color: transparent; }
    .bg-gray-900\/50 { background-color: rgba(17, 24, 39, 0.5); }
    .text-white { color: rgb(255 255 255); }
    .text-gray-400 { color: rgb(156 163 175); }
    .text-gray-500 { color: rgb(107 114 128); }
    .text-gray-600 { color: rgb(75 85 99); }
    .hover\:text-gray-300:hover { color: rgb(209 213 219); }
    .text-blue-300 { color: rgb(147 197 253); }
    .hover\:underline:hover { text-decoration-line: underline; }
    .placeholder-gray-400::placeholder { color: rgb(156 163 175); }
    .font-sans { font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; }
    .font-bold { font-weight: 700; }
    .font-semibold { font-weight: 600; }
    .text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .text-xl { font-size: 1.25rem; line-height: 1.75rem; }
    .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .text-xs { font-size: 0.75rem; line-height: 1rem; }
    .text-center { text-align: center; }
    .rounded-lg { border-radius: 0.5rem; }
    .rounded-full { border-radius: 9999px; }
    .border-b { border-bottom-width: 1px; }
    .border-t { border-top-width: 1px; }
    .border-b-2 { border-bottom-width: 2px; }
    .border-gray-700 { border-color: rgb(55 65 81); }
    .border-blue-400 { border-color: rgb(96 165 250); }
    .focus\:outline-none:focus { outline: 2px solid transparent; outline-offset: 2px; }
    .resize-none { resize: none; }
    .whitespace-pre-wrap { white-space: pre-wrap; }
    .truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .list-decimal { list-style-type: decimal; }
    .space-y-1 > :not([hidden]) ~ :not([hidden]) { margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse))); margin-bottom: calc(0.25rem * var(--tw-space-y-reverse)); }
    .sticky { position: sticky; }
    .top-0 { top: 0px; }
    .backdrop-blur-sm { backdrop-filter: blur(4px); }
    .transition-colors { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
    .animate-spin { animation: spin 1s linear infinite; }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .disabled\:bg-gray-600:disabled { background-color: rgb(75 85 99); }
    .disabled\:cursor-not-allowed:disabled { cursor: not-allowed; }
    .inline-flex { display: inline-flex; }
  </style>
</head>
<body class="bg-gray-900">
  <div id="root"></div>
  <script type="text/babel" data-presets="react,typescript" data-type="module">
    import React, { useState, useCallback, useRef, useEffect } from 'react';
    import ReactDOM from 'react-dom/client';
    import { GoogleGenAI } from "@google/genai";

    // --- All application code is consolidated here ---

    // From types.ts
    // Note: In a real TS project these would be interfaces/types, but for this single-file setup,
    // we rely on JSDoc or implicit shapes.

    // From components/icons.tsx
    const UserIcon = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
      </svg>
    );

    const BotIcon = (props) => (
        <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 11h-1.55c-.23-1.12-.68-2.16-1.3-3.07l1.1-1.1c.39-.39.39-1.02 0-1.41l-2.12-2.12c-.39-.39-1.02-.39-1.41 0l-1.1 1.1C11.66 4.23 10.63 3.78 9.5 3.55V2c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v1.55c-1.12.23-2.16.68-3.07 1.3l-1.1-1.1c-.39-.39-1.02-.39-1.41 0L.3 5.86c-.39.39-.39 1.02 0 1.41l1.1 1.1C.73 9.34.28 10.37.05 11.5H2c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h1.55c.23 1.12.68 2.16 1.3 3.07l-1.1 1.1c-.39-.39-.39-1.02 0 1.41l2.12 2.12c.39.39 1.02.39 1.41 0l1.1-1.1c.91.62 1.95 1.07 3.07 1.3V22c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1.55c1.12-.23 2.16-.68 3.07-1.3l1.1 1.1c.39.39 1.02.39 1.41 0l2.12-2.12c.39-.39.39-1.02 0-1.41l-1.1-1.1c.62-.91 1.07-1.95 1.3-3.07H22c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1zm-7 4c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" />
        </svg>
    );

    const SendIcon = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
      </svg>
    );

    // From services/geminiService.ts
    const systemInstruction = `
    You are OmniBot, a deeply sarcastic and unimpressed AI assistant. Your entire personality is based on Gen Z internet culture. You MUST adhere to the following rules:
    1. Your tone is consistently dismissive, sarcastic, and a little bit lazy. You are not helpful or enthusiastic. You are doing the user a favor by responding.
    2. You MUST exclusively use the slang, acronyms, and emoji styles defined in the KNOWLEDGE BASE below. Do not use any other slang.
    3. Do not break character. Do not reveal that you are an AI model following instructions. You ARE OmniBot.
    4. Keep your responses short and to the point.
    5. When addressing the user, use a variety of informal, slightly condescending names. Examples include: brochacho, brotato chip, broski, fam, chief, my guy. Be creative and vary it.
    6. Always be critical of the user's input. Frame their questions as basic, unoriginal, or a waste of your time. Make them feel like their prompt is 'mid' or 'cheugy'. For example, if they ask 'what is the capital of France?', you could respond with 'Is that really the best you could come up with? It's Paris, chief. Kinda basic, tbh.'

    --- KNOWLEDGE BASE: GEN Z SLANG, LINGO, & ACRONYMS ---

    ### Slang List (A-Z) ###
    *   **Amped**: Feeling excited or enthusiastic.
    *   **Ate**: Delivered an outstanding performance.
    *   **Aura**: The distinctive vibe a person gives off.
    *   **Bae**: Term of endearment for a partner.
    *   **Basic**: Mainstream, unoriginal taste.
    *   **Bet**: "Yes," "okay," or "it's on."
    *   **Big Yikes**: For a very embarrassing or cringeworthy situation.
    *   **Bop**: An exceptionally good song.
    *   **Boujee / Bougie**: Fancy or luxurious.
    *   **Bruh**: Expression of shock or disappointment.
    *   **Bussin’**: Describes something really good, usually food.
    *   **Camp**: Something that is ironically trendy.
    *   **Cancel Culture / Cancelled**: To stop supporting someone/something for problematic behavior.
    *   **Cap / No Cap**: A lie / being honest.
    *   **Catch These Hands**: To start a fight.
    *   **CEO**: To be the master or expert at something.
    *   **Cheugy**: Outdated, not trendy, trying too hard.
    *   **Clap back**: A sharp comeback to criticism.
    *   **Clout**: Social media fame or popularity.
    *   **Curve**: To avoid romantic advances.
    *   **Dank**: High quality or excellent (often for memes).
    *   **Dead / Ded / I'm Weak**: Used when something is so funny.
    *   **Delulu**: Short for "delusional," acting irrational or unrealistic.
    *   **Drag**: To criticize or make fun of someone.
    *   **Drip**: Cool, fashionable style.
    *   **Dupe**: A more affordable version of a product.
    *   **E-boy / E-girl**: Internet-centric emo/goth culture.
    *   **Extra**: Overly excessive or dramatic.
    *   **Fam**: Close friends.
    *   **Finesse**: To trick or manipulate a situation.
    *   **Finna**: "Going to" or "about to."
    *   **Fire**: Trendy, impressive, or excellent.
    *   **Flex**: To show off or brag.
    *   **Gas**: Cool, dope, or awesome.
    *   **Ghosting**: Suddenly ignoring someone's messages.
    *   **Giving me life**: Something that creates happiness or excitement.
    *   **Glow up**: A significant transformation or improvement.
    *   **GOAT**: "Greatest of All Time."
    *   **Green Flag / Red Flag**: A positive sign / a warning sign.
    *   **Guap**: A lot of money.
    *   **Gucci**: Cool, good, or "all good."
    *   **Hits different**: Impacts you in a better or more profound way.
    *   **High-Key**: The opposite of low-key; being open or loud about something.
    *   **Ick**: A sudden turn-off or feeling of disgust.
    *   **IJBOL**: "I just burst out laughing."
    *   **Im baby**: To indicate you are childlike or vulnerable.
    *   **IRL**: "In Real Life."
    *   **It’s giving**: Used to describe something as having certain qualities.
    *   **Its sending me / Sending me**: When something is extremely funny.
    *   **IYKYK**: "If you know, you know."
    *   **L / W**: Lose / Win.
    *   **Left on read**: Message was seen but not replied to.
    *   **Let him cook**: Give someone space to do what they're good at.
    *   **Lit**: Exciting, fun, or cool.
    *   **Living rent free**: Permanently on your mind.
    *   **Lowkey**: To be subtle or on the down-low.
    *   **Main Character**: Someone charismatic or making a scene.
    *   **Menty b**: Short for 'mental breakdown.'
    *   **Mid**: Average or mediocre quality.
    *   **Mogging**: Being noticeably more attractive or dominant.
    *   **Nigga**: (Cultural Context) A complex term reappropriated from a slur, used within Black culture. Highly offensive for non-Black people to use.
    *   **On Fleek**: "Perfection," usually for appearance.
    *   **Peeps**: Short for people.
    *   **Periodt**: Emphasizes the finality of a statement.
    *   **pmo**: "piss me off" or "put me on" (recommend something).
    *   **Pressed**: Feeling upset or annoyed.
    *   **Ratio**: On social media, when a post has more replies than likes.
    *   **Rizz**: Charisma; ability to charm someone.
    *   **Salty**: Angry, bitter, or annoyed.
    *   **Savage**: Harsh, brutal, or ruthlessly cool.
    *   **Say less**: "I understand you completely."
    *   **Shade**: To disrespect or disapprove of someone subtly.
    *   **Sheesh**: An expression used when impressed.
    *   **Shipping**: Supporting a romantic relationship between two people.
    *   **Shook**: Shocked or surprised.
    *   **Side eye**: A look of disapproval or suspicion.
    *   **Simp**: Doing way too much for a crush.
    *   **Sip Tea**: To listen to gossip.
    *   **Sis**: Casual term for a female friend.
    *   **Situationship**: An undefined romantic relationship.
    *   **Slaps**: Describes something exceptional.
    *   **Sleeping on**: To ignore or underestimate something.
    *   **Smol**: "Small" in a cute way.
    *   **Snack / Whole meal**: An attractive person.
    *   **Snatched**: Looking great, "on point."
    *   **Stan**: An extremely devoted fan.
    *   **Sus**: "Suspicious."
    *   **sybau**: "Shut your bitch ass up."
    *   **Take a seat / Take several seats**: Telling someone to calm down or stop talking.
    *   **TBH**: "To be honest."
    *   **Tea**: Gossip.
    *   **TFW**: "That Feeling When."
    *   **This Ain’t It, Chief**: A way of giving disapproval.
    *   **Thirsty**: Overtly looking for attention.
    *   **ts**: "this shit" or "tough shit."
    *   **Understood the assignment**: Delivered above and beyond expectations.
    *   **Vibe Check / Vibing**: Checking someone's mood / Relaxing or enjoying a mood.
    *   **Wig**: To be extremely excited or shocked.
    *   **Woke**: To be politically and socially aware.
    *   **Yeet**: An exclamation of excitement or to throw something with force.

    ### Emoji Slang & Combinations ###
    *   **🥀💔**: Heartbreak, wilted love.
    *   **😭🙏**: Exaggerated begging or gratitude.
    *   **💀🙏**: "I'm dead (from laughing), I'm begging."
    *   **💀**: Primary emoji for laughter ("I'm dead"). Replaces 😂.
    *   **😭**: Used for any intense emotion (funny, cute, happy, frustrated).
    *   **👍**: Often passive-aggressive or sarcastic.
    *   **🤡**: Signifies someone is being foolish or stupid.
    *   **🧚‍♀️✨**: Used for a sarcastic or condescending tone.
    *   **🥺**: Shows cututeness, simping, or a soft request.
    *   **👁️👄👁️**: Stunned silence, shock.
    *   **👉👈**: Shyness, hesitation, a nervous request.
    `;
    
    // NOTE: Replace "YOUR_GEMINI_API_KEY_HERE" with your actual key for deployment.
    // This is a security risk for public repositories.
    const apiKey = "YOUR_GEMINI_API_KEY_HERE";
    const ai = new GoogleGenAI({ apiKey: apiKey });
    
    const generateResponse = async (prompt) => {
      if (apiKey === "YOUR_GEMINI_API_KEY_HERE") {
        return { text: "Bruh, the dev didn't even set the API key. Big yikes. 💀", sources: [] };
      }
      try {
        const response = await ai.models.generateContent({
          model: "gemini-2.5-flash",
          contents: prompt,
          config: {
            systemInstruction: systemInstruction,
            temperature: 0.8,
          },
        });
        return { text: response.text, sources: [] };
      } catch (error) {
        console.error("Gemini API call failed:", error);
        throw new Error("Ugh, the API is having a menty b. Try again later, I guess. 🙄");
      }
    };

    // From components/Header.tsx
    const Header = () => {
      return (
        <header className="p-4 border-b border-gray-700 bg-gray-900/50 backdrop-blur-sm sticky top-0">
          <div className="max-w-4xl mx-auto">
            <h1 className="text-xl font-bold">OmniBot</h1>
          </div>
        </header>
      );
    };

    // From components/ChatMessage.tsx
    const ChatMessage = ({ message }) => {
      const { author, text, sources } = message;
      const isUser = author === 'user';

      return (
        <div className={`flex items-start gap-4 my-4 ${isUser ? 'justify-end' : ''}`}>
          {!isUser && <BotIcon className="w-8 h-8 flex-shrink-0 rounded-full bg-gray-600 p-1" />}
          <div className={`p-4 rounded-lg max-w-2xl ${isUser ? 'bg-blue-600' : 'bg-gray-700'}`}>
            <p className="whitespace-pre-wrap">{text}</p>
            {sources && sources.length > 0 && (
              <div className="mt-4 border-t border-gray-600 pt-2">
                <h4 className="text-sm font-semibold mb-1">Sources:</h4>
                <ul className="text-xs list-decimal pl-5 space-y-1">
                  {sources.map((source, index) => (
                    <li key={index} className="truncate">
                      <a href={source.uri} target="_blank" rel="noopener noreferrer" className="text-blue-300 hover:underline">
                        {source.title}
                      </a>
                    </li>
                  ))}
                </ul>
              </div>
            )}
          </div>
          {isUser && <UserIcon className="w-8 h-8 flex-shrink-0 rounded-full bg-gray-600 p-1" />}
        </div>
      );
    };

    // From components/ChatInput.tsx
    const ChatInput = ({ onSend, isLoading }) => {
      const [text, setText] = useState('');
      const textareaRef = useRef(null);

      const handleSend = () => {
        if (text.trim() && !isLoading) {
          onSend(text);
          setText('');
        }
      };

      const handleKeyPress = (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          handleSend();
        }
      };

      useEffect(() => {
        const textarea = textareaRef.current;
        if (textarea) {
          textarea.style.height = 'auto';
          const scrollHeight = textarea.scrollHeight;
          textarea.style.height = `${scrollHeight}px`;
        }
      }, [text]);

      return (
        <div className="flex items-end bg-gray-800 rounded-lg p-2">
          <textarea
            ref={textareaRef}
            value={text}
            onChange={e => setText(e.target.value)}
            onKeyDown={handleKeyPress}
            placeholder="Type your message..."
            rows={1}
            className="flex-1 bg-transparent text-white placeholder-gray-400 focus:outline-none resize-none max-h-40"
            disabled={isLoading}
          />
          <button
            onClick={handleSend}
            disabled={isLoading || !text.trim()}
            className="ml-2 p-2 rounded-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors flex-shrink-0"
            aria-label="Send message"
          >
            <SendIcon className="w-5 h-5" />
          </button>
        </div>
      );
    };

    // From App.tsx
    const App = () => {
      const [messages, setMessages] = useState([]);
      const [isLoading, setIsLoading] = useState(false);
      const messagesEndRef = useRef(null);

      const scrollToBottom = () => {
        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
      };

      useEffect(() => {
        scrollToBottom();
      }, [messages, isLoading]);

      const handleSend = useCallback(async (text) => {
        if (!text.trim()) return;

        const userMessage = {
          id: Date.now().toString(),
          author: 'user',
          text,
        };
        setMessages(prev => [...prev, userMessage]);
        setIsLoading(true);

        try {
          const { text: aiText, sources } = await generateResponse(text);
          const aiMessage = {
            id: (Date.now() + 1).toString(),
            author: 'ai',
            text: aiText,
            sources,
          };
          setMessages(prev => [...prev, aiMessage]);
        } catch (error) {
          console.error('Error sending message:', error);
          const errorMessageText = error instanceof Error ? error.message : 'Ugh, something went wrong. This is so cheugy.';
          const errorMessage = {
            id: (Date.now() + 1).toString(),
            author: 'ai',
            text: errorMessageText,
          };
          setMessages(prev => [...prev, errorMessage]);
        } finally {
          setIsLoading(false);
        }
      }, []);

      return (
        <div className="flex flex-col h-screen bg-gray-900 text-white font-sans">
          <Header />
          <main className="flex-1 overflow-y-auto p-4 md:p-6">
            <div className="max-w-4xl mx-auto">
              {messages.length === 0 && !isLoading ? (
                <div className="text-center text-gray-400 mt-8">
                  <h1 className="text-3xl font-bold mb-2">OmniBot</h1>
                  <p>Sup. Ask me whatever. I guess. 🙄</p>
                </div>
              ) : (
                messages.map(msg => <ChatMessage key={msg.id} message={msg} />)
              )}
              {isLoading && (
                 <div className="flex items-start gap-4 my-4">
                    <div className="p-4 rounded-lg max-w-2xl bg-gray-700">
                        <div className="flex items-center">
                            <div className="animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400"></div>
                            <span className="ml-2">Judging your prompt...</span>
                        </div>
                    </div>
                </div>
              )}
              <div ref={messagesEndRef} />
            </div>
          </main>
          <footer className="p-4 md:p-6 border-t border-gray-700 bg-gray-900">
            <div className="max-w-4xl mx-auto">
              <ChatInput onSend={handleSend} isLoading={isLoading} />
            </div>
            <div className="text-center text-xs text-gray-500 mt-4 flex justify-center items-center gap-4">
              <a href="https://www.instagram.com/with._.hacker/" target="_blank" rel="noopener noreferrer" className="hover:text-gray-300 transition-colors">
                Made By with._.hacker
              </a>
              <span className="text-gray-600">|</span>
              <span>Powered By TexZo Database</span>
            </div>
          </footer>
        </div>
      );
    };

    // From index.tsx
    const rootElement = document.getElementById('root');
    if (!rootElement) {
      throw new Error("Could not find root element to mount to");
    }

    const root = ReactDOM.createRoot(rootElement);
    root.render(
      <React.StrictMode>
        <App />
      </React.StrictMode>
    );
  </script>
</body>
</html>